{"version":3,"file":"static/js/837.b3bff82c.chunk.js","mappings":"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","sources":["pages/cart.js"],"sourcesContent":["import { faArrowRotateForward, faClockRotateLeft, faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React,{useState, useEffect} from 'react'\r\nimport api from './api'\r\nimport Popup from './popup'\r\nimport axios from 'axios'\r\nimport Loading from '../loading'\r\n\r\nconst Cart = () => {\r\n\r\n    const [store_coins, setStore_coins] = useState([]);\r\n    const user = localStorage.getItem(\"user\");\r\n    const [my_Coins, setMy_Coins] = useState([]);\r\n    const [starBal, setStarBal] = useState([]);\r\n    const [alert, setAlert] = useState(false);\r\n    const [data, setData] = useState([]);\r\n    const [load, setLoad] = useState(true);\r\n\r\n    const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\n    useEffect(()=>{\r\n        GetStoreCoins();\r\n        GetMyCoins();\r\n        GetStarsBala();\r\n    },[])\r\n\r\n\r\n    const GetStarsBala = () =>{\r\n        try{\r\n            setAlert(false)\r\n            api.get(`${\"https://kalanirdhari.in\"}/get/stars/balance`)\r\n            .then(res =>{\r\n                if(res.data.data){\r\n                    setStarBal(res.data.data);\r\n                }else if(res.data.Status === \"OKK\"){\r\n\r\n                }else if(res.data.Logout === \"OUT\"){\r\n                    localStorage.removeItem(\"ssid\");\r\n                    window.location.reload();\r\n                }else{\r\n                    setData(\"Something went Wrong\")\r\n                    setAlert(true)\r\n                }\r\n            }).catch(error=>{\r\n                if (error.response) {\r\n                    console.error(\"API Error:\", error.response.status, error.response.data);\r\n                } else if (error.request) {\r\n                    console.error(\"No response from server. Please check your connection.\");\r\n                } else {\r\n                    console.error(\"Error occurred:\", error.message);\r\n                }\r\n            })\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    const GetMyCoins = () =>{\r\n        try{\r\n            setAlert(false)\r\n            api.get(`${\"https://kalanirdhari.in\"}/get/coins/data/by/id`)\r\n            .then(res=>{\r\n                if(res.data.data){\r\n                    setMy_Coins(res.data.data);\r\n                }\r\n                else if(res.data.Logout === \"OUT\"){\r\n                    localStorage.removeItem(\"ssid\");\r\n                    window.location.reload();\r\n                }else{\r\n                    setData(\"Something went Wrong\")\r\n                    setAlert(true)\r\n                }\r\n\r\n                }\r\n            ).catch(error=>{\r\n                if (error.response) {\r\n                    console.error(\"API Error:\", error.response.status, error.response.data);\r\n                } else if (error.request) {\r\n                    console.error(\"No response from server. Please check your connection.\");\r\n                } else {\r\n                    console.error(\"Error occurred:\", error.message);\r\n                }\r\n            })\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    const GetStoreCoins = () =>{\r\n        try{\r\n            setTimeout(()=>{\r\n                setAlert(false)\r\n                api.get(`${\"https://kalanirdhari.in\"}/get/coin/data`)\r\n                .then(res=>{\r\n                if(res.data.data){\r\n                    setStore_coins(res.data.data);\r\n                    setLoad(false)\r\n                }\r\n                else if(res.data.Logout === \"OUT\"){\r\n                    setLoad(false)\r\n                    localStorage.removeItem(\"ssid\");\r\n                    window.location.reload();\r\n                }else{\r\n                    setLoad(false)\r\n                    setData(\"Something went Wrong\")\r\n                    setAlert(true)\r\n                }\r\n\r\n                }).catch(error=>{\r\n                    if (error.response) {\r\n                        setLoad(false)\r\n                        console.error(\"API Error:\", error.response.status, error.response.data);\r\n                    } else if (error.request) {\r\n                        setLoad(false)\r\n                        console.error(\"No response from server. Please check your connection.\");\r\n                    } else {\r\n                        setLoad(false)\r\n                        console.error(\"Error occurred:\", error.message);\r\n                    }\r\n                })\r\n            },1000)\r\n            \r\n        }catch(error){\r\n            setLoad(false)\r\n            console.log(error)\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n  return (\r\n    <div>\r\n        {load ? <Loading /> : \r\n      <center>\r\n\r\n        \r\n\r\n        <div className='cart_main_cnttt_0111-1'>\r\n            <div className='cart_main_cnttt_0111-1_pos-1'>\r\n                <h1 className='cart-page-main-h1-01'>Cart / <span>shop</span></h1>\r\n            </div>\r\n            \r\n\r\n            <div className='cart_main_cnttt_0111-1_pos-2' onClick={()=>{window.location.href='/cart/history'}} >\r\n                <div className='cart_main_cnttt_0111-1_pos' onClick={()=>{\r\n                    window.location.href='/cart/history'\r\n                }} >\r\n                    claimed / pending\r\n                </div>\r\n            </div>    \r\n        </div>\r\n\r\n        \r\n\r\n        <div className='cart-page-main-cnt-03'>\r\n            <div className='cart-page-main-cnt-03_star_bal'>Star Balance</div>\r\n            <h1>Stars : <FontAwesomeIcon icon={faStar} className='cart-page-main-cnt-03-icon-01' /><span>{starBal.balance}</span></h1>\r\n        </div>\r\n        \r\n        <div className='cart-page-main-cnt-01'>\r\n            <span className='cart-page-main-cnt-01-span-01' >My <span>Coins</span></span>\r\n            <br/>\r\n\r\n            {my_Coins.length < 1 && \r\n                    <h2 id='1' className='cart-page-main-cnt-01-sub-cnt-01-h2-01'>No Coins Found.</h2>\r\n            }\r\n\r\n            <div className='cart-page-main-cnt-01-sub-cnt-01'>\r\n\r\n                \r\n                {my_Coins.map((data, i) =>{\r\n\r\n                    const ClaimCoin = (e) =>{\r\n                        e.preventDefault();\r\n                        try{\r\n                            setAlert(false);\r\n                            api.post(`${\"https://kalanirdhari.in\"}/claim/reqst/coins/admin`,{user, id : data._id})\r\n                            .then(res=>{\r\n                                if(res.data.Status === \"OK\"){\r\n                                    delay(5000)\r\n                                    GetMyCoins();\r\n                                    setData(\"Request Sent\")\r\n                                    setAlert(true)\r\n                                    \r\n                                }else if(res.data.Status === \"No-BANK\"){\r\n                                    setData(\"Add Bank Account or UPI to claim coins.\")\r\n                                    setAlert(true)\r\n                                    window.location.href = \"/account/upi\";\r\n\r\n                                }\r\n                                else{\r\n                                    setData(\"Something went Wrong, Try again.\")\r\n                                    setAlert(true)\r\n                                }\r\n                            })\r\n                            .catch(error=>{\r\n                                if (error.response) {\r\n                                    console.error(\"API Error:\", error.response.status, error.response.data);\r\n                                } else if (error.request) {\r\n                                    console.error(\"No response from server. Please check your connection.\");\r\n                                } else {\r\n                                    console.error(\"Error occurred:\", error.message);\r\n                                }\r\n                            })\r\n                        }catch(error){\r\n                            console.log(error)\r\n                        }\r\n\r\n                    }\r\n\r\n                    return(\r\n                        <div key={i} className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01'>\r\n                            <strong className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-strong-01'>{data.title}</strong>\r\n                            <div className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-01'>\r\n                                <img src={data.img} alt='img' />\r\n                            </div><br/>\r\n                            <span className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-03'>{data.body}</span>\r\n                            <span className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-01'>Valid : <strong>{data.valid}</strong></span><br/>\r\n                            <div onClick={ClaimCoin} className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-02'>\r\n                                <strong >Claim</strong>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n    \r\n            </div>\r\n        </div>\r\n        <br/>\r\n\r\n        <div className='cart-page-main-cnt-02'>\r\n\r\n            <span className='cart-page-main-cnt-01-span-01'>Buy <span> Coins</span></span>\r\n            <br/>\r\n\r\n            {store_coins.length < 1 && \r\n                <h2 id='1' className='cart-page-main-cnt-01-sub-cnt-01-h2-01'>No Coins Found.</h2>\r\n            }\r\n\r\n            <div className='cart-page-main-cnt-02-sub-cnt-01'>\r\n\r\n                {store_coins.map((data, i) =>{\r\n\r\n                    const BuyCoins = (e) =>{\r\n                        try{\r\n                            setAlert(false);\r\n                            e.preventDefault();\r\n                            api.post(`${\"https://kalanirdhari.in\"}/get/my/conis/get`, { user, id : data._id })\r\n                            .then(res=>{\r\n                                if(res.data.Status === \"OK\"){\r\n                                    GetMyCoins()\r\n                                    GetStarsBala()\r\n                                    setData(\"Coin Bought\")\r\n                                    setAlert(true)\r\n                                }else if(res.data.Status === \"Low Bal\"){\r\n                                    setData(\"Not Enough Stars\")\r\n                                    setAlert(true)\r\n                                }else{\r\n                                    setData(\"Something went Wrong\")\r\n                                    setAlert(true)\r\n                                }\r\n                            })\r\n                            .catch(error=>{\r\n                                if (error.response) {\r\n                                    console.error(\"API Error:\", error.response.status, error.response.data);\r\n                                } else if (error.request) {\r\n                                    console.error(\"No response from server. Please check your connection.\");\r\n                                } else {\r\n                                    console.error(\"Error occurred:\", error.message);\r\n                                }\r\n                            })\r\n                        }catch(error){\r\n                            console.log(error)\r\n                        }\r\n                    }\r\n\r\n                    return(\r\n                        <div key={i} className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01'>\r\n                            <strong className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-strong-01'>{data.title}</strong>\r\n                            <div className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-01'>\r\n                                <img src={data.img} alt='img' />\r\n                            </div><br/>\r\n                            <span className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-01'>Valid : <strong>{data.valid}</strong></span><br/>\r\n                            <span className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-02-modify'>Stars : <strong>{data.stars}</strong></span><br/>\r\n                            <div onClick={BuyCoins} className='cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-02'>\r\n                                <strong  >Get</strong>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div style={{height : \"50px\"}}>\r\n\r\n        </div>\r\n        {alert &&\r\n            <Popup data={data} val={alert} />\r\n        }\r\n        \r\n      </center>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n"],"names":["Cart","store_coins","setStore_coins","useState","user","localStorage","getItem","my_Coins","setMy_Coins","starBal","setStarBal","alert","setAlert","data","setData","load","setLoad","useEffect","GetStoreCoins","GetMyCoins","GetStarsBala","api","get","then","res","Status","Logout","removeItem","window","location","reload","catch","error","response","console","status","request","message","log","setTimeout","_jsx","children","Loading","_jsxs","className","onClick","href","FontAwesomeIcon","icon","faStar","balance","length","id","map","i","title","src","img","alt","body","valid","e","preventDefault","post","_id","ms","Promise","resolve","stars","style","height","Popup","val"],"sourceRoot":""}