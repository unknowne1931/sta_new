"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[429],{4429:(e,s,r)=>{r.r(s),r.d(s,{default:()=>i});var t=r(6213),n=r(5043),a=r(695),o=r(6549),c=r(4022),l=r(579);const i=()=>{const e=localStorage.getItem("username"),[s,r]=(0,n.useState)([]),[i,u]=(0,n.useState)([]),[d,h]=(0,n.useState)([]),[p,x]=(0,n.useState)([]),[g,j]=(0,n.useState)([]),[m,b]=(0,n.useState)([]),[v,y]=(0,n.useState)([]),[f,N]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!0);(0,n.useEffect)((()=>{k()}),[]);const k=()=>{try{setTimeout((()=>{fetch("http://localhost/get/cupon/get/all/datas").then((e=>e.json())).then((e=>{e.data?(b(e.data),C(!1)):(C(!1),console.log("Unexpected error",e))})).catch((e=>{C(!1),e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",e.message)}))}),1e3)}catch(e){C(!1),console.log(e)}};return(0,l.jsxs)("div",{children:[S?(0,l.jsx)(c.A,{}):(0,l.jsxs)("center",{children:[(0,l.jsxs)("div",{className:"Home-cnt-01-sub-01",children:[(0,l.jsxs)("strong",{children:["sta",(0,l.jsx)("span",{children:"W"}),"ro"]}),(0,l.jsx)("hr",{})]}),(0,l.jsx)("h1",{className:"admin_cupon-h1-01",children:"Cupons Adds"}),(0,l.jsx)("div",{className:"admin_cupon-main-cnt-01",children:(0,l.jsxs)("form",{onSubmit:r=>{try{r.preventDefault(),N(!1),t.A.post("http://localhost/get/new/cupon/for/neww/cupon",{title:s,img:i,valid:d,body:p,type:g,user:e}).then((e=>{"OK"===e.data.Status?(k(),y("New Cupon Created"),N(!0)):(y("Something went Wrong"),N(!0))})).catch((e=>{e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",e.message)}))}catch(n){console.log(n)}},children:[(0,l.jsx)("input",{type:"text",placeholder:"Title",onChange:e=>{r(e.target.value)},required:!0}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"url",placeholder:"Image",onChange:e=>{u(e.target.value)},required:!0}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"date",placeholder:"valid",onChange:e=>{h(e.target.value)},required:!0}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",placeholder:"Body of Text",onChange:e=>{x(e.target.value)},required:!0}),(0,l.jsx)("br",{}),(0,l.jsxs)("select",{required:!0,onChange:e=>{j(e.target.value)},children:[(0,l.jsx)("option",{value:"",children:"select"}),(0,l.jsx)("option",{value:"Cupon",children:"Cupon"}),(0,l.jsx)("option",{value:"Money",children:"Money"})]}),(0,l.jsx)("br",{}),(0,l.jsx)("button",{type:"submit",children:"Post"})]})}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"cart-page-main-cnt-02-sub-cnt-01",children:m.map(((e,s)=>(0,l.jsxs)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01",children:[(0,l.jsx)("strong",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-strong-01",children:e.title}),(0,l.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-01",children:(0,l.jsx)("img",{src:e.img,alt:"img"})}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-01",children:["Valid : ",(0,l.jsx)("strong",{children:e.valid})]}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-02",children:["No : ",(0,l.jsx)("strong",{children:s+1})]}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-02",children:(0,l.jsx)("strong",{onClick:()=>{try{N(!1),t.A.delete(`http://localhost/delete/cupon/s/by/id/${e._id}`).then((e=>{"OK"===e.data.Status?k():(y("Something went Wrong"),N(!0))})).catch((e=>{e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",e.message)}))}catch(s){console.log(s)}},children:"Delete"})})]},s)))}),(0,l.jsx)("div",{style:{height:"50px"}})]}),(0,l.jsx)(a.A,{}),f&&(0,l.jsx)(o.default,{data:v,val:f})]})}}}]);
//# sourceMappingURL=429.17bf8bf7.chunk.js.map