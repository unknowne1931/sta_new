"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[837],{4837:(s,e,a)=>{a.r(e),a.d(e,{default:()=>d});var t=a(7929),n=a(3910),r=a(5043),c=a(3051),o=a(6549),i=a(4022),l=a(579);const d=()=>{const[s,e]=(0,r.useState)([]),a=localStorage.getItem("user"),[d,h]=(0,r.useState)([]),[m,u]=(0,r.useState)([]),[g,p]=(0,r.useState)(!1),[x,j]=(0,r.useState)([]),[b,N]=(0,r.useState)(!0);(0,r.useEffect)((()=>{y(),S(),v()}),[]);const v=()=>{try{p(!1),c.A.get(`http://kalanirdhari.in/get/stars/balance/${a}`).then((s=>{s.data.data?u(s.data.data):"OKK"===s.data.Status||("OUT"===s.data.Logout?(localStorage.removeItem("ssid"),window.location.reload()):(j("Something went Wrong"),p(!0)))})).catch((s=>{s.response?console.error("API Error:",s.response.status,s.response.data):s.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",s.message)}))}catch(s){console.log(s)}},S=()=>{try{p(!1),c.A.get(`http://kalanirdhari.in/get/coins/data/by/id/${a}`).then((s=>{s.data.data?h(s.data.data):"OUT"===s.data.Logout?(localStorage.removeItem("ssid"),window.location.reload()):(j("Something went Wrong"),p(!0))})).catch((s=>{s.response?console.error("API Error:",s.response.status,s.response.data):s.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",s.message)}))}catch(s){console.log(s)}},y=()=>{try{setTimeout((()=>{p(!1),c.A.get("http://kalanirdhari.in/get/coin/data").then((s=>{s.data.data?(e(s.data.data),N(!1)):"OUT"===s.data.Logout?(N(!1),localStorage.removeItem("ssid"),window.location.reload()):(N(!1),j("Something went Wrong"),p(!0))})).catch((s=>{s.response?(N(!1),console.error("API Error:",s.response.status,s.response.data)):s.request?(N(!1),console.error("No response from server. Please check your connection.")):(N(!1),console.error("Error occurred:",s.message))}))}),1e3)}catch(s){N(!1),console.log(s)}};return(0,l.jsx)("div",{children:b?(0,l.jsx)(i.A,{}):(0,l.jsxs)("center",{children:[(0,l.jsxs)("div",{className:"cart_main_cnttt_0111-1",children:[(0,l.jsx)("div",{className:"cart_main_cnttt_0111-1_pos-1",children:(0,l.jsxs)("h1",{className:"cart-page-main-h1-01",children:["Cart / ",(0,l.jsx)("span",{children:"shop"})]})}),(0,l.jsx)("div",{className:"cart_main_cnttt_0111-1_pos-2",onClick:()=>{window.location.href="/cart/history"},children:(0,l.jsx)("div",{className:"cart_main_cnttt_0111-1_pos",onClick:()=>{window.location.href="/cart/history"},children:"claimed / pending"})})]}),(0,l.jsxs)("div",{className:"cart-page-main-cnt-03",children:[(0,l.jsx)("div",{className:"cart-page-main-cnt-03_star_bal",children:"Star Balance"}),(0,l.jsxs)("h1",{children:["Stars : ",(0,l.jsx)(n.g,{icon:t.yy,className:"cart-page-main-cnt-03-icon-01"}),(0,l.jsx)("span",{children:m.balance})]})]}),(0,l.jsxs)("div",{className:"cart-page-main-cnt-01",children:[(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-span-01",children:["My ",(0,l.jsx)("span",{children:"Coins"})]}),(0,l.jsx)("br",{}),d.length<1&&(0,l.jsx)("h2",{id:"1",className:"cart-page-main-cnt-01-sub-cnt-01-h2-01",children:"No Coins Found."}),(0,l.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01",children:d.map(((s,e)=>(0,l.jsxs)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01",children:[(0,l.jsx)("strong",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-strong-01",children:s.title}),(0,l.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-01",children:(0,l.jsx)("img",{src:s.img,alt:"img"})}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-03",children:s.body}),(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-01",children:["Valid : ",(0,l.jsx)("strong",{children:s.valid})]}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{onClick:e=>{e.preventDefault();try{p(!1),c.A.post("http://kalanirdhari.in/claim/reqst/coins/admin",{user:a,id:s._id}).then((s=>{var e;"OK"===s.data.Status?(e=5e3,new Promise((s=>setTimeout(s,e))),S(),j("Request Sent"),p(!0)):"No-BANK"===s.data.Status?(j("Add Bank Account or UPI to claim coins."),p(!0),window.location.href="/account/upi"):(j("Something went Wrong, Try again."),p(!0))})).catch((s=>{s.response?console.error("API Error:",s.response.status,s.response.data):s.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",s.message)}))}catch(t){console.log(t)}},className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-02",children:(0,l.jsx)("strong",{children:"Claim"})})]},e)))})]}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"cart-page-main-cnt-02",children:[(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-span-01",children:["Buy ",(0,l.jsx)("span",{children:" Coins"})]}),(0,l.jsx)("br",{}),s.length<1&&(0,l.jsx)("h2",{id:"1",className:"cart-page-main-cnt-01-sub-cnt-01-h2-01",children:"No Coins Found."}),(0,l.jsx)("div",{className:"cart-page-main-cnt-02-sub-cnt-01",children:s.map(((s,e)=>(0,l.jsxs)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01",children:[(0,l.jsx)("strong",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-strong-01",children:s.title}),(0,l.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-01",children:(0,l.jsx)("img",{src:s.img,alt:"img"})}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-01",children:["Valid : ",(0,l.jsx)("strong",{children:s.valid})]}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-02-modify",children:["Stars : ",(0,l.jsx)("strong",{children:s.stars})]}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{onClick:e=>{try{p(!1),e.preventDefault(),c.A.post("http://kalanirdhari.in/get/my/conis/get",{user:a,id:s._id}).then((s=>{"OK"===s.data.Status?(S(),v(),j("Coin Bought"),p(!0)):"Low Bal"===s.data.Status?(j("Not Enough Stars"),p(!0)):(j("Something went Wrong"),p(!0))})).catch((s=>{s.response?console.error("API Error:",s.response.status,s.response.data):s.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",s.message)}))}catch(t){console.log(t)}},className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-02",children:(0,l.jsx)("strong",{children:"Get"})})]},e)))})]}),(0,l.jsx)("div",{style:{height:"50px"}}),g&&(0,l.jsx)(o.default,{data:x,val:g})]})})}}}]);
//# sourceMappingURL=837.7bc4d959.chunk.js.map