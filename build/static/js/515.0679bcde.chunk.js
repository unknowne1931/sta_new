"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[515],{62515:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var r=t(86213),a=t(65043),n=t(96549),o=(t(33051),t(4314)),c=t(20695),l=t(54022),i=t(70579);const d=()=>{const[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[p,x]=(0,a.useState)([]),[g,j]=(0,a.useState)([]),[m,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[S,N]=(0,a.useState)([]),[f,k]=(0,a.useState)(!0);(0,a.useEffect)((()=>{C()}),[]);const C=()=>{try{setTimeout((()=>{o.A.get("http://localhost/get/coin/data/2").then((e=>{e.data.data?(N(e.data.data),k(!1)):"OUT"===e.data.Logout?(localStorage.removeItem("token"),k(!1),window.location.reload()):(k(!1),console.warn("Unexpected response structure:",e.data))})).catch((e=>{k(!1),e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",e.message)}))}),1e3)}catch(e){k(!1),console.log(e)}};return(0,i.jsxs)("div",{children:[f?(0,i.jsx)(l.A,{}):(0,i.jsxs)("center",{children:[(0,i.jsx)("h1",{className:"coins-h1-01",children:"Coins Add"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"coins-h2-01",children:"Add New Coins"}),(0,i.jsx)("br",{}),(0,i.jsx)("form",{onSubmit:s=>{try{y(!1),s.preventDefault(),r.A.post("http://localhost/coin/new/data",{title:e,img:t,valid:u,body:p,stars:g}).then((e=>{"OK"===e.data.Status?(C(),b("New Coin Created"),y(!0)):(b("Something went Wrong"),y(!0))})).catch((e=>{e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",e.message)}))}catch(a){console.log(a)}},children:(0,i.jsxs)("div",{className:"coins-main-cnt-01",children:[(0,i.jsx)("input",{type:"text",placeholder:"title",onChange:e=>{s(e.target.value)},required:!0}),(0,i.jsx)("br",{}),(0,i.jsx)("input",{type:"url",placeholder:"Image Link",onChange:e=>{d(e.target.value)},required:!0}),(0,i.jsx)("br",{}),(0,i.jsx)("input",{type:"text",placeholder:"Valid",onChange:e=>{h(e.target.value)},required:!0}),(0,i.jsx)("br",{}),(0,i.jsx)("input",{type:"text",placeholder:"Body",onChange:e=>{x(e.target.value)},required:!0}),(0,i.jsx)("br",{}),(0,i.jsx)("input",{type:"number",placeholder:"stars",onChange:e=>{j(e.target.value)},required:!0}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"submit",children:"Post"})]})})]}),(0,i.jsx)("br",{}),(0,i.jsx)("hr",{style:{width:"80%"}}),(0,i.jsx)("div",{className:"cart-page-main-cnt-02-sub-cnt-01",children:S.map(((e,s)=>(0,i.jsxs)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01",children:[(0,i.jsx)("strong",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-strong-01",children:e.title}),(0,i.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-01",children:(0,i.jsx)("img",{src:e.img,alt:"img"})}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-01",children:["Valid : ",(0,i.jsx)("strong",{children:e.valid})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-span-02",children:["Stars : ",(0,i.jsx)("strong",{children:e.stars})]}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"cart-page-main-cnt-01-sub-cnt-01-sub-cnt-01-sub-02",children:(0,i.jsx)("strong",{onClick:s=>{try{s.preventDefault(),y(!1),r.A.delete(`http://localhost/delete/coin/by/${e._id}`).then((e=>{"OK"===e.data.Status?C():(C(),b("Something went Wrong"),y(!0))})).catch((e=>{e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response from server. Please check your connection."):console.error("Error occurred:",e.message)}))}catch(t){console.log(t)}},children:"Delete"})})]},s)))}),(0,i.jsx)("div",{style:{height:"50px"}})]}),v&&(0,i.jsx)(n.default,{data:m,val:v}),(0,i.jsx)(c.A,{})]})}}}]);
//# sourceMappingURL=515.0679bcde.chunk.js.map