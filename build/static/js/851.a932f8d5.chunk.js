"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[851],{4851:(a,s,e)=>{e.r(s),e.d(s,{default:()=>i});var n=e(5043),t=e(3051),d=e(4022),r=e(5668),c=e(579);const i=()=>{const a=12e4,s="userData",e="bankData",i=localStorage.getItem("user"),[l,o]=(0,n.useState)(null),[h,x]=(0,n.useState)(!1),[j,m]=(0,n.useState)({}),[p,u]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!0);(0,n.useEffect)((()=>{b(),f()}),[]);const b=async()=>{const e=await(0,r.xy)(s),n=Date.now();if(e&&n-e.timestamp<a)m(e.data),console.log("\u2705 Loaded user data from cache");else try{var d;const a=await t.A.get(`http://192.168.31.133/users/name/and/more/get/${i}`);null!==(d=a.data)&&void 0!==d&&d.data&&(m(a.data.data),await(0,r.dR)(s,{data:a.data.data,timestamp:n}))}catch(c){console.error("User data fetch failed",c)}},f=async()=>{const s=await(0,r.xy)(e),n=Date.now();if(s&&n-s.timestamp<a)x(!0),o(s.data),u("BANK"===s.data.type),v(!1),console.log("\u2705 Loaded bank data from cache");else try{const a=(await t.A.get("http://192.168.31.133/get/bank/account/data")).data;a.data?(x(!0),o(a.data),u("BANK"===a.data.type),await(0,r.dR)(e,{data:a.data,timestamp:n})):"No"===a.Status?x(!1):"OUT"===a.Logout&&(localStorage.removeItem("ssid"),window.location.reload())}catch(d){console.error("Bank data fetch failed",d)}finally{v(!1)}};return(0,c.jsx)("div",{children:g?(0,c.jsx)(d.A,{}):(0,c.jsxs)("center",{children:[(0,c.jsxs)("div",{className:"Home-cnt-01-sub-01",children:[(0,c.jsxs)("strong",{children:["sta",(0,c.jsx)("span",{children:"W"}),"ro"]}),(0,c.jsx)("hr",{})]}),(0,c.jsxs)("h2",{className:"data_page-h2-01",children:[(0,c.jsx)("span",{children:"User"})," Data"]}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"data_page-profile-cnt-01",children:(0,c.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJa_CcFSwA2X0Y-kYFsSxHaiPE5Z2EOd50FA&s",alt:"profile"})}),(0,c.jsxs)("h2",{className:"data_page-h2-02",children:["Hello ",(0,c.jsx)("span",{children:null===j||void 0===j?void 0:j.name}),"."]}),(0,c.jsx)("div",{style:{height:"20px"}}),(0,c.jsxs)("div",{className:"data-page-main-cnt-01",children:[(0,c.jsxs)("span",{children:["Username : ",(0,c.jsx)("strong",{children:null===j||void 0===j?void 0:j.username})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["Name : ",(0,c.jsx)("strong",{children:null===j||void 0===j?void 0:j.name})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["Email : ",(0,c.jsx)("strong",{children:null===j||void 0===j?void 0:j.email})]}),(0,c.jsx)("br",{})]}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"data-page-main-cnt-02",children:h?(0,c.jsx)("div",{children:p?(0,c.jsxs)("div",{className:"data-page-main-cnt-02-sub-01",children:[(0,c.jsx)("h3",{children:"Bank"}),"BANK"===(null===l||void 0===l?void 0:l.type)&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{children:["Account Holder Name : ",(0,c.jsx)("strong",{children:l.ac_h_name})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["Account Number : ",(0,c.jsx)("strong",{children:l.Acc_no})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["Bank Name : ",(0,c.jsx)("strong",{children:l.bank_name})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["IFSC : ",(0,c.jsx)("strong",{children:l.ifsc})]}),(0,c.jsx)("br",{})]})]}):(0,c.jsxs)("div",{className:"data-page-main-cnt-02-sub-01",children:[(0,c.jsx)("h3",{children:"UPI"}),"UPI"===(null===l||void 0===l?void 0:l.type)&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{children:["Account Holder Name :"," ",(0,c.jsx)("strong",{children:l.ac_h_name})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["UPI ID : ",(0,c.jsx)("strong",{children:l.Acc_no})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("span",{children:["App : ",(0,c.jsx)("strong",{children:l.app})]}),(0,c.jsx)("br",{})]})]})}):(0,c.jsx)("div",{children:(0,c.jsx)("h2",{children:"No Bank / UPI Account Linked"})})}),(0,c.jsx)("div",{style:{height:"50px"}})]})})}}}]);
//# sourceMappingURL=851.a932f8d5.chunk.js.map